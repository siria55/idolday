前缀统一  api/v1 下边省略

## 登录 注册

### 密码登录

POST /login

入参:

- username/email/phone_number 三选一
- password

### 登录-发送验证码

POST /login/send_code

入参：

- phone_number/email 二选一
- hcaptcha_response

### 登录-验证验证码

POST /login/verify_code

入参：

- phone_number/email 二选一
- code

### 注册并绑定手机 发验证码

POST /register/send_code

入参：

- phone_number
- hcaptcha_response

### 注册并绑定手机 验证验证码

POST /register/verify_code

- username
- password
- phone_number
- code

## 设备绑定解绑相关

### 列出用户设备

GET /users/<user_id>/devices

### 绑定设备 （同时会生成 device_token 返回）

POST /users/<user_id>/devices/<device_id>


### 解绑设备

DELETE /users/<user_id>/devices/<device_id>


### 生成 device_token

POST /users/<user_id>/devices/<device_id>/token


## 用户信息相关

### 获取用户信息

GET /users/<user_id>

### 更新用户信息

PUT /users/<user_id>

入参（都是可选参数，没传的就不会改）

- username
- password
- avatar

### 初次绑定邮箱 or 换绑手机/邮箱 发验证码

POST /user/bind/send_code

入参

- phone_number/email 二选一
- captcha

### 登录-验证验证码

POST /user/bind/verify_code

入参

- phone_number/email 二选一
- verify_code

## 系统

### 系统开关

现在返回值里固定 use_captcha true，管理后台写好后可以在管理后台里改

GET /system/switches

### 固定头像列表

GET /system/user_avatars
