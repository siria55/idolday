前缀统一  api/v1 下边省略

## 登录 注册

### 密码登录

POST /login

入参:

- login_input (支持 username, email, phone_number)
- password

### 登录-发送验证码

POST /login/send_code

入参：

- phone_number/email 二选一
- hcaptcha_response

### 登录-验证验证码

POST /login/verify_code

入参：

- phone_number/email 二选一
- code

### 注册并绑定手机 发验证码

POST /register/send_code

入参：

- phone_number
- hcaptcha_response

### 注册并绑定手机 验证验证码

POST /register/verify_code

- username
- password
- phone_number
- code

## 设备绑定解绑相关

### 列出用户设备

GET /devices

### 绑定设备 （同时会生成 device_token 返回）

POST /devices/<device_id>


### 解绑设备

DELETE /devices/<device_id>


### 生成 device_token

POST /devices/<device_id>/token


## 用户信息相关（对自己的操作）

### 获取自己信息

GET /profile

### 更新用户信息

PUT /profile

入参（都是可选参数，没传的就不会改）

- username
- password
- avatar_name

### 初次绑定邮箱 or 换绑手机/邮箱 发验证码

POST /profile/send_code

入参

- phone_number/email 二选一
- captcha

### 初次绑定邮箱 or 换绑手机/邮箱 - 验证验证码

POST /profile/verify_code

入参

- phone_number/email 二选一
- verify_code

## 系统

### 系统开关

GET /system/switches

### 固定头像列表

GET /system/user/avatars

### 密码规则

GET /system/user/password_rule
